import{p as S,o as Z,i as $,s as tt}from"./props.BuUuuJCK.js";import{f as b,a as x,p as et,b as at,s as rt,m as it,g as t,r as l,c as n,d as f,u as s,t as I,h as j,e as h,i as st,n as ot}from"./render.D_Gxq-xR.js";import{i as lt,s as F,a as K}from"./translation.MXbzjdby.js";import{e as L,i as O}from"./each.C2dWSdCU.js";import{I as C}from"./zh_TW.BbnQiFpy.js";import{g as R}from"./url-utils.BC-zrmcT.js";var nt=b('<div class="absolute right-0 top-0 w-1/3 h-full opacity-0 group-hover:opacity-20 transition-all duration-500 ease-in-out bg-cover bg-center bg-no-repeat pointer-events-none"></div> <div class="absolute right-0 top-0 w-1/3 h-full opacity-0 group-hover:opacity-40 transition-all duration-500 ease-in-out pointer-events-none" style="background: linear-gradient(90deg, transparent 0%, var(--card-bg) 100%);"></div>',1),dt=b(`<a class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial] relative overflow-hidden" style="transition: all 0.3s ease"><!> <div class="relative z-10 flex flex-row justify-start items-center h-full"><div class="w-[15%] md:w-[10%] transition text-sm text-right text-50"> </div> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"><div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                       bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                       outline outline-4 z-50
                       outline-[var(--card-bg)]
                       group-hover:outline-[var(--btn-plain-bg-hover)]
                       group-active:outline-[var(--btn-plain-bg-active)]"></div></div> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                     group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                     text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> </div> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                     whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div></div></a>`),vt=b(`<div><div class="flex flex-row w-full items-center h-[3.75rem]"><div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75"> </div> <div class="w-[15%] md:w-[10%]"><div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto
                  -outline-offset-[2px] z-50 outline-3"></div></div> <div class="w-[70%] md:w-[80%] transition text-left text-50"> </div></div> <!></div>`),ut=b('<div class="card-base px-8 py-6"></div>');function xt(T,m){at(m,!1);let w=S(m,"tags",12),_=S(m,"categories",12),Y=S(m,"sortedPosts",24,()=>[]);const v=new URLSearchParams(window.location.search);w(v.has("tag")?v.getAll("tag"):[]),_(v.has("category")?v.getAll("category"):[]);const q=v.get("uncategorized");let D=it([]);function E(r){const a=(r.getMonth()+1).toString().padStart(2,"0"),d=r.getDate().toString().padStart(2,"0");return`${a}-${d}`}function G(r){return r.map(a=>`#${a}`).join(" ")}Z(async()=>{let r=Y();w().length>0&&(r=r.filter(e=>Array.isArray(e.data.tags)&&e.data.tags.some(o=>w().includes(o)))),_().length>0&&(r=r.filter(e=>e.data.category&&_().includes(e.data.category))),q&&(r=r.filter(e=>!e.data.category));const a=r.reduce((e,o)=>{const u=o.data.published.getFullYear();return e[u]||(e[u]=[]),e[u].push(o),e},{}),d=Object.keys(a).map(e=>({year:Number.parseInt(e),posts:a[Number.parseInt(e)]}));d.sort((e,o)=>o.year-e.year),rt(D,d)}),$();var y=ut();L(y,5,()=>t(D),O,(r,a)=>{var d=vt(),e=n(d),o=n(e),u=n(o,!0);l(o);var M=f(o,4),H=n(M);l(M),l(e);var J=f(e,2);L(J,1,()=>(t(a),s(()=>t(a).posts)),O,(k,i)=>{var c=dt(),N=n(c);{var Q=g=>{var p=nt(),A=st(p);ot(2),I(()=>tt(A,`background-image: url('${t(i),s(()=>t(i).data.image)??""}'); 
                                   background-position: center center;
                                   background-size: cover;
                                   filter: blur(0.5px);`)),x(g,p)};lt(N,g=>{t(i),s(()=>t(i).data.image)&&g(Q)})}var U=f(N,2),P=n(U),V=n(P,!0);l(P);var z=f(P,4),W=n(z,!0);l(z);var B=f(z,2),X=n(B,!0);l(B),l(U),l(c),I((g,p,A)=>{F(c,"href",g),F(c,"aria-label",(t(i),s(()=>t(i).data.title))),h(V,p),h(W,(t(i),s(()=>t(i).data.title))),h(X,A)},[()=>(j(R),t(i),s(()=>R(t(i).slug))),()=>(t(i),s(()=>E(t(i).data.published))),()=>(t(i),s(()=>G(t(i).data.tags)))]),x(k,c)}),l(d),I(k=>{h(u,(t(a),s(()=>t(a).year))),h(H,`${t(a),s(()=>t(a).posts.length)??""} ${k??""}`)},[()=>(j(K),t(a),j(C),s(()=>K(t(a).posts.length===1?C.postCount:C.postsCount)))]),x(r,d)}),l(y),x(T,y),et()}export{xt as default};
